import{jQuery as t}from"./src/jquery-3.5.1-min.js";import{clamp as e}from"./src/clamp-min.js";t((()=>{const e=t(".youtube").length>0,a=()=>{const a=t("main > .yarpp-related .list");if(a.css("grid-template-columns",`repeat(${Math.floor(a.outerWidth(!0)/216)}, 1fr)`),e){const e="single-list-style",a=t(".content-wrap").outerHeight(!0)-t(".channel-title").outerHeight(!0)+"px";t(`#${e}`).remove(),t("#htm_s-single-css").after(`\n\t\t\t\t<style id="${e}">\n\t\t\t\t\tbody .youtube .side-content .yarpp-related {\n\t\t\t\t\t\tmax-height: min(${a}, calc(100vh - 275px));\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tbody:not(.scrolled):not(.at-top) .youtube .side-content .yarpp-related {\n\t\t\t\t\t\tmax-height: min(${a}, calc(100vh - 185px));\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tbody.scrolled .youtube .side-content .yarpp-related {\n\t\t\t\t\t\tmax-height: min(${a}, calc(100vh - 95px));\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t`)}};a(),t(window).on("resize",a),t(".entry .entry-title").clamp({clamp:2}),t(".entry").has(".entry-meta").each((function(){t(".detail-type",this).replaceWith(t(".entry-date",this)),t(".entry-meta",this).remove()})),e&&(t(".youtube .content-wrap .iframe-wrap").remove(),t(".show-more").on("click",(function(){const e=t(this).hasClass("open");let s=0;t(".desc").children().each((function(){s+=t(this).outerHeight(!0)})),t(this)[(e?"remove":"add")+"Class"]("open"),t(".desc").css("max-height",(e?250:s)+"px");let n=0;const o=setInterval((()=>{a(),n++,3==n&&clearInterval(o)}),200)}))),t(".youtube .button-wrap .video").click((function(){var e=t(this);e.addClass("loading"),t.ajax({url:params.ajax,data:{action:"user_post_interaction",nonce:t(".youtube .button-wrap ").data("nonce"),post_id:e.data("post-id"),user_action:e.data("action"),state:e.hasClass("selected")?"off":"on"}}).done((function(a){e.removeClass("loading"),e.toggleClass("selected"),e.hasClass("like")&&e.hasClass("selected")&&t(".dislike").removeClass("selected"),e.hasClass("dislike")&&e.hasClass("selected")&&t(".like").removeClass("selected");JSON.parse(a)}))}))})),t.fn.extend({clamp(a){this.each((function(){t(this).data("clamp")!==a&&(e(this,a),t(this).data("clamp",a))}))}});