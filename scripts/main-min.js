import{jQuery as t}from"./src/jquery-3.5.1-min.js";import e from"./partials/header-min.js";import i from"./util/dialog-min.js";import"./custom/jquery-visible-min.js";import{timed as o}from"./custom/K-min.js";t((()=>{e.build(),i.show(),t('a[href^="#"]').on("click",(function(e){const i=t(this).attr("href");i.match(/^#/)&&1!=i.length&&t(i).length&&(e.preventDefault(),t([document.documentElement,document.body]).animate({scrollTop:t(i).offset().top-170},800))}));const r=()=>{if(t(".wrap.with-description").length){let e=0;t(".main > .title, .main > .meta, .main > .description").each((function(){e+=t(this).outerHeight()})),t(".body-decor").height(e),t(".wrap > .content").css("margin-top",`-${e+100}px`)}if(t(".more-side").length){const e=t(".more-part:visible").length;if(t(".more-side").data("using")!==e){let i=t(".more-side .more-panel");if("order"in i.data()&&(i=i.sort((function(e,i){const o=parseInt(t(e).data("order")),r=parseInt(t(i).data("order"));return o<r?-1:o>r?1:0}))),0===e)return i.each((function(e){"order"in t(this).data()||t(this).data("order",e),t(this).clone(!0).appendTo(t(".more-side")),t(this).remove()})),void t(".more-side").data("using",e);const o=[null,t(".more-part[part=1]"),t(".more-part[part=2]"),t(".more-part[part=3]")];let r=1;i.each((function(i){"order"in t(this).data()||t(this).data("order",i),t(this).clone(!0).appendTo(o[r]),t(this).remove(),r=r===e?1:r+1})),t(".more-side").data("using",e)}}};r(),t(window).on("resize",r);const n=t("#wpadminbar");n.length&&(n.slideUp("slow"),t('<div class="admin-bar-show"></div>').on("click",(()=>n.slideToggle("slow"))).appendTo(".body-wrap"));if(t(".sidebar").length){let e,i;const r=o();t(window).on("scroll",(()=>{i=!1,t('.content-wrap [id!=""][id]').each((function(){const o="#"+t(this).attr("id"),n=t(`.sidebar [href="${o}"]`);!i&&t(this).visible(!0)&&n.length&&(i=!0,this!==e&&(e=this,n.siblings().removeClass("active"),n.addClass("active"),r.run((()=>{let e=0;n.prevAll().each((function(){e+=t(this).outerHeight(!0)})),t(".sidebar .content").animate({scrollTop:e},300)}),100)))}))}))}}));