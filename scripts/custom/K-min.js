const t={version:"1.0"},e=[].indexOf,n={},r=n.toString,i=n.hasOwnProperty,o=i.toString,s=o.call(Object);t.Util={formatLatLngs(e,n=5){const r=Math.pow(10,n);switch(t.Util.type(e)){case"object":e.lat=Math.round(e.lat*r)/r,e.lng=Math.round(e.lng*r)/r;break;case"array":for(let r=0;r<e.length;r++)e[r]=t.Util.formatLatLngs(e[r],n);break;case"number":return Math.round(e*r)/r}return e},extend(){let e,n,r,i,o,s,l=arguments[0]||{},a=1,c=!1;const u=arguments.length;for("boolean"==typeof l&&(c=l,l=arguments[a]||{},a++),"object"==typeof l||t.Util.isFunction(l)||(l={}),a===u&&(l=this,a--);a<u;a++)if(null!=(e=arguments[a]))for(n in e)r=l[n],i=e[n],l!==i&&(c&&i&&(t.Util.isPlainObject(i)||(o=t.Util.isArray(i)))?(o?(o=!1,s=r&&t.Util.isArray(r)?r:[]):s=r&&t.Util.isPlainObject(r)?r:{},l[n]=t.Util.extend(c,s,i)):void 0!==i&&(l[n]=i));return l},each(t,e){let n,r=0;if(isArrayLike(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},type:t=>null==t?t+"":"object"==typeof t||"function"==typeof t?n[r.call(t)]||"object":typeof t,isFunction:e=>"function"===t.Util.type(e),isPlainObject(t){if(!t||"[object Object]"!==r.call(t))return!1;const e=Object.getPrototypeOf(t);if(!e)return!0;const n=i.call(e,"constructor")&&e.constructor;return"function"==typeof n&&o.call(n)===s},create:Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),bind(t,e){const n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));const r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}},stamp:e=>(e._k_id=e._k_id||++t.Util.lastId,e._k_id),lastId:0,throttle(t,e,n){let r,i;const o=()=>{r=!1,i&&(s.apply(n,i),i=!1)},s=()=>{r?i=arguments:(t.apply(n,arguments),setTimeout(o,e),r=!0)};return s},wrapNum(t,e,n){const r=e[1],i=e[0],o=r-i;return t===r&&n?t:((t-i)%o+o)%o+i},falseFn:()=>!1,formatNum(t,e){const n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:t=>t.trim?t.trim():t.replace(/^\s+|\s+$/g,""),splitWords:e=>t.Util.trim(e).split(/\s+/),setOptions(e,n){t.Util.in("options",e)||(e.options=e.options?t.Util.create(e.options):{});for(const t in n)e.options[t]=n[t];return e.options},getParamString(t,e,n){const r=[];for(const e in t)r.push(encodeURIComponent(n?e.toUpperCase():e)+"="+encodeURIComponent(t[e]));return(e&&-1!==e.indexOf("?")?"&":"?")+r.join("&")},template:(e,n)=>e.replace(t.Util.templateRe,(function(t,e){let r=n[e];if(void 0===r)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(n)),r})),templateRe:/\{ *([\w_-]+) *\}/g,isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},indexOf(t,e){for(let n=0;n<t.length;n++)if(t[n]===e)return n;return-1},urlParam(e){const n={};let r=window.location.href.match(/\?([^#]*)/);return null==r?null:(r=r[1].split("&"),t.Util.each(r,(function(t,e){e=e.split("="),n[e[0]]=decodeURI(e[1])})),n[e]||n)},curtail(){let e=arguments[0],n=arguments[1];return!Object.keys(e).length&&Object.keys(n).length&&(e=t.Util.extend({},arguments[1]),n=arguments[2]),n&&"object"!=typeof n&&(n=[n]),t.Util.each(n,(function(t,n){n in e&&delete e[n]})),e},reduce(){let e=arguments[0],n=arguments[1];return!Object.keys(e).length&&Object.keys(n).length&&(e=t.Util.extend({},arguments[1]),n=arguments[2]),n&&"object"!=typeof n&&(n=[n]),t.Util.each(e,(function(r){!t.Util.isInArray(r,n)&&delete e[r]})),e},inArray:(n,r,i)=>{if(null==r)return-1;switch(t.Util.type(n)){case"object":for(let e=0;e<r.length;e++)if(t.Util.equals(r[e],n))return e;return-1;default:return e.call(r,n,i)}},isInArray:(e,n)=>{switch(t.Util.type(n)){case"array":return-1!=t.Util.inArray(e,n);case"object":return e in n;default:return!1}},local:(t,e)=>{if(void 0===e)return void 0===t?localStorage:JSON.parse(localStorage.getItem(t));localStorage.setItem(t,JSON.stringify(e))},localRemove:t=>localStorage.removeItem(t),isIterable:e=>t.Util.isInArray(t.Util.type(e),["array","object"]),equals:(e,n)=>{const r=t.Util.type(e);if(r==t.Util.type(n))switch(r){case"array":if(t.Util.empty(e)&&t.Util.empty(n))return!0;if(e.length!=n.length)return!1;for(let r=0,i=e.length;r<i;r++)if(!t.isInArray(e[r],n))return!1;break;case"object":if(t.Util.empty(e)&&t.Util.empty(n))return!0;for(const r in e){if(!t.Util.isInArray(r,n))return!1;if(!t.Util.equals(e[r],n[r]))return!1}for(const t in n)if(void 0===e[t])return!1;break;case"number":case"string":case"boolean":if(e!=n)return!1;break;case"function":if(e.toString()!=n.toString())return!1;break;default:if(!e!=!n)return!1}else{if(t.Util.empty(e)&&t.Util.empty(n))return!0;switch(r){case"array":case"object":return!1;case"number":return!(e||!t.Util.isNull(n));case"string":case"boolean":if(e!=n)return!1;break;default:if(!e!=!n)return!1;break}}return!0},isNull:e=>t.Util.isInArray(t.Util.type(e),["null","undefined"]),length:e=>{const n=t.Util.type(e);return"object"==n?Object.keys(e).length:"array"==n?e.length:0},empty:e=>{switch(t.Util.type(e)){case"object":for(const t in e)return!1;return!0;case"array":return!e.length;case"number":case"boolean":return!1;default:return!e}},getPropByString:(t,e)=>{if(!e)return t;const n=e.split(".");let r=0;for(let e=n.length-1;r<e;r++){const e=t[n[r]];if(void 0===e)break;t=e}return t[n[r]]}},t.extend=t.Util.extend,t.isInArray=t.Util.isInArray,t.isArray=t.Util.isArray,t.has=t.Util.isInArray,t.in=t.Util.isInArray,t.curtail=t.Util.curtail,t.reduce=t.Util.reduce,t.urlParam=t.Util.urlParam,t.bind=t.Util.bind,t.stamp=t.Util.stamp,t.setOptions=t.Util.setOptions,t.each=t.Util.each,t.equals=t.Util.equals,t.isIterable=t.Util.isIterable,t.type=t.Util.type,t.length=t.Util.length,t.empty=t.Util.empty,t.local=t.Util.local,t.localRemove=t.Util.localRemove,t.getPropByString=t.Util.getPropByString,t.includeHTML=function(){let e,n,r,i;const o=document.querySelectorAll("[include]");for(e=0;e<o.length;e++)if(n=o[e],r=n.getAttribute("include"),r)return i=new XMLHttpRequest,i.onreadystatechange=function(){4==this.readyState&&(200==this.status&&(n.innerHTML=this.responseText),404==this.status&&(n.innerHTML="Page not found."),n.removeAttribute("include"),t.includeHTML())},i.open("GET",r,!0),void i.send()},t.imgToSvg=function(t,e){document.querySelectorAll(`img.${t}`).forEach((t=>{const n=t.id,r=t.className,i=t.src,o=t.getAttribute("style"),s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==this.readyState&&200==this.status){const i=this.responseXML.getElementsByTagName("svg")[0];n&&(i.id=n),r&&i.setAttribute("class",r.removeClass("svg-me")),i.removeAttribute("xmlns:a");const s=i.getAttribute("viewBox"),l=i.getAttribute("width"),a=i.getAttribute("height");!s&&l&&a&&i.setAttribute("viewBox",`0 0 ${a} ${l}`),o&&i.setAttribute("style",o),t.replaceWith(i),e&&e.call(i)}},s.open("GET",i,!0),s.send()}))},t.loadStyles=function(t){t.forEach((t=>{const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),document.head.appendChild(e)}))},t.loadStylesWithCondition=(e,n)=>e&&t.loadStyles(n),t.supportsPassive=!1;try{const e=Object.defineProperty({},"passive",{get:()=>t.supportsPassive=!0});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}t.Class=function(){},t.Class.extend=function(e){const n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=n.__super__=this.prototype,i=t.Util.create(r);i.constructor=n,n.prototype=i;for(const e in this)t.in(e,this)&&"prototype"!==e&&(n[e]=this[e]);return e.statics&&(t.extend(n,e.statics),delete e.statics),e.includes&&(t.Util.extend.apply(null,[i].concat(e.includes)),delete e.includes),i.options&&(e.options=t.Util.extend(t.Util.create(i.options),e.options)),t.extend(i,e),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(let t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},n},t.Class.include=function(e){return t.extend(this.prototype,e),this},t.Class.mergeOptions=function(e){return t.extend(this.prototype.options,e),this},t.Class.addInitHook=function(t){const e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this},t.Evented=t.Class.extend({on(e,n,r){if("object"==typeof e)for(const t in e)this._on(t,e[t],n);else for(let i=0,o=(e=t.Util.splitWords(e)).length;i<o;i++)this._on(e[i],n,r);return this},off(e,n,r){if(e)if("object"==typeof e)for(const t in e)this._off(t,e[t],n);else for(let i=0,o=(e=t.Util.splitWords(e)).length;i<o;i++)this._off(e[i],n,r);else delete this._events;return this},_on(t,e,n){this._events=this._events||{};let r=this._events[t];r||(this._events[t]=r=[]),n===this&&(n=void 0);const i={fn:e,ctx:n},o=r;for(let t=0,r=o.length;t<r;t++)if(o[t].fn===e&&o[t].ctx===n)return;o.push(i)},_off(e,n,r){let i,o,s;if(this._events&&(i=this._events[e],i))if(n){if(r===this&&(r=void 0),i)for(o=0,s=i.length;o<s;o++){const s=i[o];if(s.ctx===r&&s.fn===n)return s.fn=t.Util.falseFn,this._firingCount&&(this._events[e]=i=i.slice()),void i.splice(o,1)}}else{for(o=0,s=i.length;o<s;o++)i[o].fn=t.Util.falseFn;delete this._events[e]}},fire(e,n,r){if(!this.listens(e,r))return this;const i=t.Util.extend({},n,{type:e,target:this});if(this._events){const t=this._events[e];if(t){this._firingCount=this._firingCount+1||1;for(let e=0,n=t.length;e<n;e++){const n=t[e];n.fn.call(n.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens(t,e){const n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(const n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},once(e,n,r){if("object"==typeof e){for(const t in e)this.once(t,e[t],n);return this}const i=t.bind((function(){this.off(e,n,r).off(e,i,r)}),this);return this.on(e,n,r).on(e,i,r)},addEventParent(e){return this._eventParents=this._eventParents||{},this._eventParents[t.stamp(e)]=e,this},removeEventParent(e){return this._eventParents&&delete this._eventParents[t.stamp(e)],this},_propagateEvent(e){for(const n in this._eventParents)this._eventParents[n].fire(e.type,t.extend({layer:e.target},e),!0)}});const l=t.Evented.prototype;t.Mixin={Events:l},t.isWindow=function(t){return null!=t&&t===t.window},t.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){n["[object "+e+"]"]=e.toLowerCase()}));export function isArrayLike(e){const n=!!e&&"length"in e&&e.length,r=t.Util.type(e);return"function"!==r&&!t.isWindow(e)&&("array"===r||0===n||"number"==typeof n&&n>0&&n-1 in e)}const a=/[^\x20\t\r\n\f]+/g;export function classesToArray(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(a)||[]}export function stripAndCollapse(t){return(t.match(a)||[]).join(" ")}t.isMobile=()=>navigator.userAgent.bMatch(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),Array.prototype.removeDupes||(Array.prototype.removeDupes=function(){const e=[],n=[];return t.each(this,(function(r,i){const o=JSON.stringify(i);t.isInArray(o,e)||(e.push(o),n.push(i))})),n}),String.prototype.filter||(String.prototype.filter=function(){const e=this.toString().split(" "),n=[];return e.clean(""),e.length<2?e[0]:(t.each(e,(function(e,r){t.isInArray(r,n)||n.push(r)})),n.join(" "))}),Array.prototype.clean||(Array.prototype.clean=function(t){for(let e=0;e<this.length;e++)this[e]==t&&(this.splice(e,1),e--);return this}),Array.prototype.average||(Array.prototype.average=function(){if(this.length){return this.reduce(((t,e)=>t+e))/this.length}return 0}),String.prototype.bMatch||(String.prototype.bMatch=function(t){return null!==this.toString().match(t)}),String.prototype.contains||(String.prototype.contains=function(t="",e=!1){let n=this.toString();return!e&&(n=n.toLowerCase(),t=t.toLowerCase()),-1!=n.indexOf(t)}),String.prototype.space||(String.prototype.space=function(){return this.toString().replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").trim()}),String.prototype.titleCase||(String.prototype.titleCase=function(){return this.toString().replace(/(?:^|\s)\w/g,(function(t){return t.toUpperCase()}))}),String.prototype.firstToUpper||(String.prototype.firstToUpper=function(){const t=this.toString();return t.substr(0,1).toUpperCase()+t.substr(1)}),String.prototype.equals||(String.prototype.equals=function(e,n=!1){if("string"!=t.type(e))return!1;let r=this.toString();return n||(r=r.toLowerCase(),e=e.toLowerCase()),r==e}),String.prototype.addClass||(String.prototype.addClass=function(t){const e=classesToArray(t),n=this.toString();let r,i,o,s;if(e.length&&(i=n||"",r=` ${stripAndCollapse(i)} `,r)){for(s=0;o=e[s++];)r.indexOf(` ${o} `)<0&&(r+=o+" ");return stripAndCollapse(r)}return n}),String.prototype.removeClass||(String.prototype.removeClass=function(t){const e=classesToArray(t),n=this.toString();let r,i,o,s;if(e.length&&(i=n||"",r=` ${stripAndCollapse(i)} `,r)){for(s=0;o=e[s++];)for(;r.indexOf(` ${o} `)>-1;)r=r.replace(` ${o} `," ");return stripAndCollapse(r)}return n}),String.prototype.get||(String.prototype.get=function(e){const n=this.toString().match(e);return t.empty(n)?"":n[0]}),Date.prototype.addHours||(Date.prototype.addHours=function(t){return this.setTime(this.getTime()+60*t*60*1e3),this}),Date.prototype.addMinutes||(Date.prototype.addMinutes=function(t){return this.setTime(this.getTime()+60*t*1e3),this});export{t as K};class c{run(t,e){this.time=e,this.callback=t,this._action()}_action(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.callback,this.time)}}export function timed(){return new c}